(this.webpackJsonpqwixx=this.webpackJsonpqwixx||[]).push([[0],{20:function(e,t,a){e.exports=a(37)},27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),c=a(5),o=a(0),l=a.n(o),s=a(16),i=a.n(s),u=(a(26),a(27),a(14)),m=a(2),d=a(17),f=a.n(d),b=(a(28),[0,1,3,6,10,15,21,28,36,45,55,66,78]),p="BLOCKED",v="DISABLED",E="LOCKED",w="OPEN",g="UNLOCKED",x="WON",N=(a(29),{white:{dotColor:"black",faceColor:"white",numDice:2,ref:null},red:{dotColor:"white",faceColor:"red",numDice:1,ref:null},yellow:{dotColor:"white",faceColor:"#EFEF6D",numDice:1,ref:null},green:{dotColor:"white",faceColor:"green",numDice:1,ref:null},blue:{dotColor:"white",faceColor:"blue",numDice:1,ref:null}}),h=function(e){return l.a.createElement("div",{className:"DiceContainer",onClick:C},k("white"),!1===e.scoreCard.red.locked?k("red"):null,!1===e.scoreCard.yellow.locked?k("yellow"):null,!1===e.scoreCard.green.locked?k("green"):null,!1===e.scoreCard.blue.locked?k("blue"):null)};h.displayName="Dice";var k=function(e){var t=Object(m.a)(Object(m.a)({defaultRoll:6,dieSize:35,margin:8,numDice:1,rollTime:1.5},N[e]),{},{ref:function(t){return N[e].ref=t}});return l.a.createElement(f.a,t)},C=function(){N.white.ref.rollAll(),N.red.ref&&N.red.ref.rollAll(),N.yellow.ref&&N.yellow.ref.rollAll(),N.green.ref&&N.green.ref.rollAll(),N.blue.ref&&N.blue.ref.rollAll()},y=h,O=(a(30),function(e){return l.a.createElement("div",{className:"AppHeader"},l.a.createElement(y,{scoreCard:e.scoreCard}),l.a.createElement("span",{className:"Title"},"QWIXX.APP"),l.a.createElement(u.a,{className:"ResetButton",variant:"secondary",onClick:e.onReset}))}),T=a(13),S=a(7),j=(a(31),[[],[1],[1,2],[1,2,3],[1,2,3,4]]),D=function(e){var t={type:"checkbox",onChange:function(t){e.onBoxToggled(t.length)},value:j[e.penalties]};return l.a.createElement("div",{className:"".concat("Penalties")},l.a.createElement("span",{className:"PenaltyText"},"Penalties (-5 for each)"),l.a.createElement(T.a,t,P(1),P(2),P(3),P(4)))};D.displayName="Penalties";var P=function(e){var t={size:"lg",type:"checkbox",variant:"outline-danger",value:e};return l.a.createElement(S.a,t)},B=D,A=(a(32),function(e){for(var t=[],a=1;a<=12;a++)t.push(L(a));return l.a.createElement("div",{className:"PointsList"},l.a.createElement("span",null,"Points:"),t)});A.displayName="PointsList";var R,L=function(e){return l.a.createElement("div",{className:"PointValue",key:e},l.a.createElement("div",{className:"Multiplier"},"".concat(e,"x")),l.a.createElement("div",{className:"Value"},b[e]))},W=A,I=(a(33),function(e){var t=function(t){e.onBoxToggled(e.color,t.target.value)},a={type:"checkbox"};return l.a.createElement("div",{className:"".concat("Row"," ").concat("Row","-").concat(e.color)},l.a.createElement(T.a,a,function(){for(var a={active:!1,onChange:t,size:"lg",type:"checkbox",variant:"outline-primary"},n=[],r=2;r<=12;r++){var c={className:"btn-".concat(e.boxState[r]," btn-").concat(r),key:r,value:r};switch(e.boxState[r]){case p:case E:c.disabled=!0;break;case x:c.checked=!0}n.push(l.a.createElement(S.a,Object.assign({},a,c),r))}e.reversed&&n.reverse();var o=Object(m.a)(Object(m.a)({},a),{},{className:"btn-".concat(e.boxState[13]," btn-lock"),key:13,value:13});return n.push(l.a.createElement(S.a,o,"\xa0")),n}()))}),X=(a(34),a(18)),q=a(10),z=a(8),K=a(19),F=function(e,t,a,n){0===t&&e.createObjectStore("ScoreCards")},J=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)("QWIXX",1,{upgrade:F,blocked:function(){console.log("[openDB]: blocked")},blocking:function(){console.log("[openDB]: blocking")},terminated:function(){console.log("[openDB]: terminated")}});case 2:return R=e.sent,e.abrupt("return",R);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.put("ScoreCards",t,"current");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.get("ScoreCards","current"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=Object(q.a)({2:w,3:w,4:w,5:w,6:w,7:w,8:w,9:w,10:w,11:w,12:v},13,g),H=Object(m.a)(Object(m.a)({},V),{},{2:v,12:w}),U=Object(z.b)({red:{boxState:Object(m.a)({},V),locked:!1,winCount:0},yellow:{boxState:Object(m.a)({},V),locked:!1,winCount:0},green:{boxState:Object(m.a)({},H),locked:!1,reversed:!0,winCount:0},blue:{boxState:Object(m.a)({},H),locked:!1,reversed:!0,winCount:0},penalties:0},(function(){})),$=function(e,t,a,n){for(var r=e.reversed?Number(t)+1:Number(t)-1;r<=12&&r>=2&&e.boxState[r]===a;)e.boxState[r]=n,r+=e.reversed?1:-1},G=function(){var e=Object(o.useState)((function(){return Q().then((function(e){e&&e.red&&n(e)})),U})),t=Object(X.a)(e,2),a=t[0],n=t[1],r=function(e){return e.reversed?"2":"12"};return{reset:function(){n(U),M(null)},scores:a,setPenalties:function(e){n(Object(z.b)((function(t){t.penalties=e,M(Object(z.a)(t))})))},toggleBox:function(e,t){n(Object(z.b)((function(a){var n=a[e];switch(n.boxState[t]){case v:break;case E:!function(e){var t=r(e);e.locked=!1,e.boxState[13]=g,e.boxState[t]=e.winCount<5?v:w,$(e,t,p,w)}(n);break;case w:13!==Number(t)&&function(e,t){e.boxState[t]=x,e.winCount++,$(e,t,w,p);var a=r(e);t===a?(e.boxState[13]=x,e.winCount++,e.locked=!0):e.winCount>=5&&(e.boxState[a]=w)}(n,t);break;case g:!function(e){var t=r(e);e.locked=!0,e.boxState[13]=E,e.boxState[t]=p,$(e,t,w,p)}(n);break;case x:13!==Number(t)&&function(e,t){e.boxState[t]=w,e.winCount--,$(e,t,p,w);var a=r(e);t===a?(e.boxState[13]=g,e.winCount--,e.locked=!1):e.winCount<5&&(e.boxState[a]=v)}(n,t)}M(Object(z.a)(a))})))}}},Y=function(e){var t=Z(e.scorecard);return l.a.createElement("div",{className:"TotalsRow"},l.a.createElement("span",null,"Totals:"),l.a.createElement("div",{className:"Total Total-red"},l.a.createElement("div",{className:"TotalText"},t.red>0?t.red:" ")),l.a.createElement("span",{className:"plus"},"+"),l.a.createElement("div",{className:"Total Total-yellow"},l.a.createElement("div",{className:"TotalText"},t.yellow>0?t.yellow:" ")),l.a.createElement("span",{className:"plus"},"+"),l.a.createElement("div",{className:"Total Total-green"},l.a.createElement("div",{className:"TotalText"},t.green>0?t.green:" ")),l.a.createElement("span",{className:"plus"},"+"),l.a.createElement("div",{className:"Total Total-blue"},l.a.createElement("div",{className:"TotalText"},t.blue>0?t.blue:" ")),l.a.createElement("span",{className:"minus"},"-"),l.a.createElement("div",{className:"Total Total-penalty"},l.a.createElement("div",{className:"TotalText"},t.penalties>0?t.penalties:" ")),l.a.createElement("span",{className:"equals"},"="),l.a.createElement("div",{className:"Total Total-grandTotal"},l.a.createElement("div",{className:"TotalText"},0!==t.total?t.total:" ")))},Z=function(e){var t={red:_(e.red),yellow:_(e.yellow),green:_(e.green),blue:_(e.blue),penalties:5*e.penalties};return t.total=t.red+t.yellow+t.green+t.blue-t.penalties,t},_=function(e){return b[function(e){for(var t=0,a=2;a<=13;a++)t+=e.boxState[a]===x?1:0;return t}(e)]},ee=(a(35),function(e){var t=G(),a=t.reset,n=t.scores,r=t.setPenalties,c=t.toggleBox,o={onBoxToggled:function(e,t){c(e,t)}};return l.a.createElement("div",{className:"ScoreCard"},l.a.createElement(O,{scoreCard:n,onReset:a}),l.a.createElement(I,Object.assign({color:"red"},o,n.red)),l.a.createElement(I,Object.assign({color:"yellow"},o,n.yellow)),l.a.createElement(I,Object.assign({color:"green"},o,n.green)),l.a.createElement(I,Object.assign({color:"blue"},o,n.blue)),l.a.createElement("div",{className:"PointsAndPenalties"},l.a.createElement(W,null),l.a.createElement(B,{penalties:n.penalties,onBoxToggled:function(e){r(e)}})),l.a.createElement(Y,{scorecard:n}))});a(36);var te=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(){return(ae=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(te,null)),document.getElementById("root"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){ae.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.c7ba67c7.chunk.js.map